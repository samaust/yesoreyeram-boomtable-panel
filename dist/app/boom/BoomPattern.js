System.register(["./index"], function (exports_1, context_1) {
    "use strict";
    var index_1, BoomPattern;
    var __moduleName = context_1 && context_1.id;
    return {
        setters: [
            function (index_1_1) {
                index_1 = index_1_1;
            }
        ],
        execute: function () {
            BoomPattern = /** @class */ (function () {
                function BoomPattern(options) {
                    this.row_col_wrapper = '_';
                    if (options && options.row_col_wrapper) {
                        this.row_col_wrapper = options.row_col_wrapper;
                    }
                    this.bgColors = options && options.bgColors ? options.bgColors : 'green|orange|red';
                    this.bgColors_overrides = options && options.bgColors_overrides ? options.bgColors_overrides : '0->green|2->red|1->yellow';
                    this.textColors = options && options.textColors ? options.textColors : 'red|orange|green';
                    this.textColors_overrides = options && options.textColors_overrides ? options.textColors_overrides : '0->red|2->green|1->yellow';
                    this.clickable_cells_link = options && options.clickable_cells_link ? options.clickable_cells_link : '';
                    this.col_name = options && options.col_name ? options.col_name : this.row_col_wrapper + '1' + this.row_col_wrapper;
                    this.decimals = options && options.decimals ? options.decimals : 2;
                    this.delimiter = options && options.delimiter ? options.delimiter : '.';
                    this.displayTemplate = options && options.displayTemplate ? options.displayTemplate : '_value_';
                    this.defaultBGColor = options && options.defaultBGColor ? options.defaultBGColor : '';
                    this.defaultTextColor = options && options.defaultTextColor ? options.defaultTextColor : '';
                    this.enable_bgColor = false;
                    this.enable_bgColor_overrides = false;
                    this.enable_textColor = false;
                    this.enable_textColor_overrides = false;
                    this.enable_clickable_cells = false;
                    this.enable_time_based_thresholds = false;
                    this.enable_transform = false;
                    this.enable_transform_overrides = false;
                    this.filter = {
                        value_above: '',
                        value_below: '',
                    };
                    this.format = options && options.format ? options.format : 'none';
                    this.hidden = false;
                    this.name = options && options.name ? options.name : 'New Pattern';
                    this.null_color = options && options.null_color ? options.null_color : 'darkred';
                    this.null_textcolor = options && options.null_Textcolor ? options.null_Textcolor : 'black';
                    this.null_value = options && options.null_value ? options.null_value : 'No data';
                    this.pattern = options && options.pattern ? options.pattern : '^server.*cpu$';
                    this.row_name = options && options.row_name ? options.row_name : this.row_col_wrapper + '0' + this.row_col_wrapper;
                    this.thresholds = options && options.thresholds ? options.thresholds : '70,90';
                    this.dynThresholds = options && options.dynThresholds ? options.dynThresholds : 'a,b';
                    this.separator = options && options.separator ? options.separator : ',';
                    this.time_based_thresholds = [];
                    this.transform_values = options && options.transform_values ? options.transform_values : '_value_|_value_|_value_';
                    this.transform_values_overrides = options && options.transform_values_overrides ? options.transform_values_overrides : '0->down|1->up';
                    this.tooltipTemplate =
                        options && options.tooltipTemplate
                            ? options.tooltipTemplate
                            : 'Series : _series_ <br/>Row Name : _row_name_ <br/>Col Name : _col_name_ <br/>Value : _value_';
                    this.valueName = options && options.valueName ? options.valueName : 'avg';
                }
                return BoomPattern;
            }());
            exports_1("BoomPattern", BoomPattern);
            BoomPattern.prototype.inverseBGColors = function () {
                this.bgColors = this.bgColors
                    ? this.bgColors
                        .split('|')
                        .reverse()
                        .join('|')
                    : '';
            };
            BoomPattern.prototype.inverseTextColors = function () {
                this.textColors = this.textColors
                    ? this.textColors
                        .split('|')
                        .reverse()
                        .join('|')
                    : '';
            };
            BoomPattern.prototype.inverseTransformValues = function () {
                this.transform_values = this.transform_values
                    ? this.transform_values
                        .split('|')
                        .reverse()
                        .join('|')
                    : '';
            };
            BoomPattern.prototype.add_time_based_thresholds = function () {
                var new_time_based_threshold = new index_1.BoomTimeBasedThreshold();
                this.time_based_thresholds = this.time_based_thresholds || [];
                this.time_based_thresholds.push(new_time_based_threshold);
            };
            BoomPattern.prototype.remove_time_based_thresholds = function (index) {
                if (this.time_based_thresholds.length > 0) {
                    this.time_based_thresholds.splice(Number(index), 1);
                }
            };
            BoomPattern.prototype.setUnitFormat = function (format) {
                this.format = format && format.value ? format.value : 'none';
            };
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQm9vbVBhdHRlcm4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvYXBwL2Jvb20vQm9vbVBhdHRlcm4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7WUFFQTtnQkErQ0UscUJBQVksT0FBWTtvQkE5Q2hCLG9CQUFlLEdBQUcsR0FBRyxDQUFDO29CQStDNUIsSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLGVBQWUsRUFBRTt3QkFDdEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDO3FCQUNoRDtvQkFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDcEYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsMkJBQTJCLENBQUM7b0JBQzNILElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDO29CQUMxRixJQUFJLENBQUMsb0JBQW9CLEdBQUcsT0FBTyxJQUFJLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQywyQkFBMkIsQ0FBQztvQkFDakksSUFBSSxDQUFDLG9CQUFvQixHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO29CQUN4RyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsUUFBUSxD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Q0FBQyxTQUFTLENBQUMsNEJBQTRCLEdBQUcsVUFBUyxLQUFhO2dCQUN6RSxJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO29CQUN6QyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztpQkFDckQ7WUFDSCxDQUFDLENBQUM7WUFFRixXQUFXLENBQUMsU0FBUyxDQUFDLGFBQWEsR0FBRyxVQUFTLE1BQVc7Z0JBQ3hELElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUMvRCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQm9vbVBhdHRlcm4sIElCb29tVGltZUJhc2VkVGhyZXNob2xkLCBCb29tVGltZUJhc2VkVGhyZXNob2xkIH0gZnJvbSAnLi9pbmRleCc7XHJcblxyXG5jbGFzcyBCb29tUGF0dGVybiBpbXBsZW1lbnRzIElCb29tUGF0dGVybiB7XHJcbiAgcHJpdmF0ZSByb3dfY29sX3dyYXBwZXIgPSAnXyc7XHJcbiAgcHVibGljIGJnQ29sb3JzOiBzdHJpbmc7XHJcbiAgcHVibGljIGJnQ29sb3JzX292ZXJyaWRlczogc3RyaW5nO1xyXG4gIHB1YmxpYyBjbGlja2FibGVfY2VsbHNfbGluazogc3RyaW5nO1xyXG4gIHB1YmxpYyBjb2xfbmFtZTogc3RyaW5nO1xyXG4gIHB1YmxpYyBkaXNwbGF5VGVtcGxhdGU6IHN0cmluZztcclxuICBwdWJsaWMgZGVmYXVsdEJHQ29sb3I6IHN0cmluZztcclxuICBwdWJsaWMgZGVmYXVsdFRleHRDb2xvcjogc3RyaW5nO1xyXG4gIHB1YmxpYyBkZWNpbWFsczogTnVtYmVyO1xyXG4gIHB1YmxpYyBkZWxpbWl0ZXI6IHN0cmluZztcclxuICBwdWJsaWMgZW5hYmxlX2JnQ29sb3I6IEJvb2xlYW47XHJcbiAgcHVibGljIGVuYWJsZV9iZ0NvbG9yX292ZXJyaWRlczogQm9vbGVhbjtcclxuICBwdWJsaWMgZW5hYmxlX2NsaWNrYWJsZV9jZWxsczogQm9vbGVhbjtcclxuICBwdWJsaWMgZW5hYmxlX3RleHRDb2xvcjogQm9vbGVhbjtcclxuICBwdWJsaWMgZW5hYmxlX3RleHRDb2xvcl9vdmVycmlkZXM6IEJvb2xlYW47XHJcbiAgcHVibGljIGVuYWJsZV90aW1lX2Jhc2VkX3RocmVzaG9sZHM6IEJvb2xlYW47XHJcbiAgcHVibGljIGVuYWJsZV90cmFuc2Zvcm06IEJvb2xlYW47XHJcbiAgcHVibGljIGVuYWJsZV90cmFuc2Zvcm1fb3ZlcnJpZGVzOiBCb29sZWFuO1xyXG4gIHB1YmxpYyBmaWx0ZXI6IHtcclxuICAgIHZhbHVlX2Fib3ZlOiBzdHJpbmc7XHJcbiAgICB2YWx1ZV9iZWxvdzogc3RyaW5nO1xyXG4gIH07XHJcbiAgcHVibGljIGZvcm1hdDogc3RyaW5nO1xyXG4gIHB1YmxpYyBoaWRkZW46IEJvb2xlYW47XHJcbiAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICBwdWJsaWMgbnVsbF9jb2xvcjogc3RyaW5nO1xyXG4gIHB1YmxpYyBudWxsX3ZhbHVlOiBzdHJpbmc7XHJcbiAgcHVibGljIG51bGxfdGV4dGNvbG9yOiBzdHJpbmc7XHJcbiAgcHVibGljIHBhdHRlcm46IHN0cmluZztcclxuICBwdWJsaWMgcm93X25hbWU6IHN0cmluZztcclxuICBwdWJsaWMgdGV4dENvbG9yczogc3RyaW5nO1xyXG4gIHB1YmxpYyB0ZXh0Q29sb3JzX292ZXJyaWRlczogc3RyaW5nO1xyXG4gIHB1YmxpYyB0aHJlc2hvbGRzOiBzdHJpbmc7XHJcbiAgcHVibGljIGR5blRocmVzaG9sZHM6IHN0cmluZztcclxuICBwdWJsaWMgc2VwYXJhdG9yOiBzdHJpbmc7XHJcbiAgcHVibGljIHRpbWVfYmFzZWRfdGhyZXNob2xkczogSUJvb21UaW1lQmFzZWRUaHJlc2hvbGRbXTtcclxuICBwdWJsaWMgdHJhbnNmb3JtX3ZhbHVlczogc3RyaW5nO1xyXG4gIHB1YmxpYyB0cmFuc2Zvcm1fdmFsdWVzX292ZXJyaWRlczogc3RyaW5nO1xyXG4gIHB1YmxpYyB0b29sdGlwVGVtcGxhdGU6IHN0cmluZztcclxuICBwdWJsaWMgdmFsdWVOYW1lOiBzdHJpbmc7XHJcbiAgcHVibGljIGludmVyc2VCR0NvbG9ycztcclxuICBwdWJsaWMgaW52ZXJzZVRleHRDb2xvcnM7XHJcbiAgcHVibGljIGludmVyc2VUcmFuc2Zvcm1WYWx1ZXM7XHJcbiAgcHVibGljIGFkZF90aW1lX2Jhc2VkX3RocmVzaG9sZHM7XHJcbiAgcHVibGljIHJlbW92ZV90aW1lX2Jhc2VkX3RocmVzaG9sZHM7XHJcbiAgcHVibGljIHNldFVuaXRGb3JtYXQ7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9uczogYW55KSB7XHJcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJvd19jb2xfd3JhcHBlcikge1xyXG4gICAgICB0aGlzLnJvd19jb2xfd3JhcHBlciA9IG9wdGlvbnMucm93X2NvbF93cmFwcGVyO1xyXG4gICAgfVxyXG4gICAgdGhpcy5iZ0NvbG9ycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5iZ0NvbG9ycyA/IG9wdGlvbnMuYmdDb2xvcnMgOiAnZ3JlZW58b3JhbmdlfHJlZCc7XHJcbiAgICB0aGlzLmJnQ29sb3JzX292ZXJyaWRlcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5iZ0NvbG9yc19vdmVycmlkZXMgPyBvcHRpb25zLmJnQ29sb3JzX292ZXJyaWRlcyA6ICcwLT5ncmVlbnwyLT5yZWR8MS0+eWVsbG93JztcclxuICAgIHRoaXMudGV4dENvbG9ycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0Q29sb3JzID8gb3B0aW9ucy50ZXh0Q29sb3JzIDogJ3JlZHxvcmFuZ2V8Z3JlZW4nO1xyXG4gICAgdGhpcy50ZXh0Q29sb3JzX292ZXJyaWRlcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0Q29sb3JzX292ZXJyaWRlcyA/IG9wdGlvbnMudGV4dENvbG9yc19vdmVycmlkZXMgOiAnMC0+cmVkfDItPmdyZWVufDEtPnllbGxvdyc7XHJcbiAgICB0aGlzLmNsaWNrYWJsZV9jZWxsc19saW5rID0gb3B0aW9ucyAmJiBvcHRpb25zLmNsaWNrYWJsZV9jZWxsc19saW5rID8gb3B0aW9ucy5jbGlja2FibGVfY2VsbHNfbGluayA6ICcnO1xyXG4gICAgdGhpcy5jb2xfbmFtZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jb2xfbmFtZSA/IG9wdGlvbnMuY29sX25hbWUgOiB0aGlzLnJvd19jb2xfd3JhcHBlciArICcxJyArIHRoaXMucm93X2NvbF93cmFwcGVyO1xyXG4gICAgdGhpcy5kZWNpbWFscyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kZWNpbWFscyA/IG9wdGlvbnMuZGVjaW1hbHMgOiAyO1xyXG4gICAgdGhpcy5kZWxpbWl0ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVsaW1pdGVyID8gb3B0aW9ucy5kZWxpbWl0ZXIgOiAnLic7XHJcbiAgICB0aGlzLmRpc3BsYXlUZW1wbGF0ZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kaXNwbGF5VGVtcGxhdGUgPyBvcHRpb25zLmRpc3BsYXlUZW1wbGF0ZSA6ICdfdmFsdWVfJztcclxuICAgIHRoaXMuZGVmYXVsdEJHQ29sb3IgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVmYXVsdEJHQ29sb3IgPyBvcHRpb25zLmRlZmF1bHRCR0NvbG9yIDogJyc7XHJcbiAgICB0aGlzLmRlZmF1bHRUZXh0Q29sb3IgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVmYXVsdFRleHRDb2xvciA/IG9wdGlvbnMuZGVmYXVsdFRleHRDb2xvciA6ICcnO1xyXG4gICAgdGhpcy5lbmFibGVfYmdDb2xvciA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVfYmdDb2xvcl9vdmVycmlkZXMgPSBmYWxzZTtcclxuICAgIHRoaXMuZW5hYmxlX3RleHRDb2xvciA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVfdGV4dENvbG9yX292ZXJyaWRlcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVfY2xpY2thYmxlX2NlbGxzID0gZmFsc2U7XHJcbiAgICB0aGlzLmVuYWJsZV90aW1lX2Jhc2VkX3RocmVzaG9sZHMgPSBmYWxzZTtcclxuICAgIHRoaXMuZW5hYmxlX3RyYW5zZm9ybSA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVfdHJhbnNmb3JtX292ZXJyaWRlcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5maWx0ZXIgPSB7XHJcbiAgICAgIHZhbHVlX2Fib3ZlOiAnJyxcclxuICAgICAgdmFsdWVfYmVsb3c6ICcnLFxyXG4gICAgfTtcclxuICAgIHRoaXMuZm9ybWF0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmZvcm1hdCA/IG9wdGlvbnMuZm9ybWF0IDogJ25vbmUnO1xyXG4gICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcclxuICAgIHRoaXMubmFtZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5uYW1lID8gb3B0aW9ucy5uYW1lIDogJ05ldyBQYXR0ZXJuJztcclxuICAgIHRoaXMubnVsbF9jb2xvciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5udWxsX2NvbG9yID8gb3B0aW9ucy5udWxsX2NvbG9yIDogJ2RhcmtyZWQnO1xyXG4gICAgdGhpcy5udWxsX3RleHRjb2xvciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5udWxsX1RleHRjb2xvciA/IG9wdGlvbnMubnVsbF9UZXh0Y29sb3IgOiAnYmxhY2snO1xyXG4gICAgdGhpcy5udWxsX3ZhbHVlID0gb3B0aW9ucyAmJiBvcHRpb25zLm51bGxfdmFsdWUgPyBvcHRpb25zLm51bGxfdmFsdWUgOiAnTm8gZGF0YSc7XHJcbiAgICB0aGlzLnBhdHRlcm4gPSBvcHRpb25zICYmIG9wdGlvbnMucGF0dGVybiA/IG9wdGlvbnMucGF0dGVybiA6ICdec2VydmVyLipjcHUkJztcclxuICAgIHRoaXMucm93X25hbWUgPSBvcHRpb25zICYmIG9wdGlvbnMucm93X25hbWUgPyBvcHRpb25zLnJvd19uYW1lIDogdGhpcy5yb3dfY29sX3dyYXBwZXIgKyAnMCcgKyB0aGlzLnJvd19jb2xfd3JhcHBlcjtcclxuICAgIHRoaXMudGhyZXNob2xkcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aHJlc2hvbGRzID8gb3B0aW9ucy50aHJlc2hvbGRzIDogJzcwLDkwJztcclxuICAgIHRoaXMuZHluVGhyZXNob2xkcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5keW5UaHJlc2hvbGRzID8gb3B0aW9ucy5keW5UaHJlc2hvbGRzIDogJ2EsYic7XHJcbiAgICB0aGlzLnNlcGFyYXRvciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZXBhcmF0b3IgPyBvcHRpb25zLnNlcGFyYXRvciA6ICcsJztcclxuICAgIHRoaXMudGltZV9iYXNlZF90aHJlc2hvbGRzID0gW107XHJcbiAgICB0aGlzLnRyYW5zZm9ybV92YWx1ZXMgPSBvcHRpb25zICYmIG9wdGlvbnMudHJhbnNmb3JtX3ZhbHVlcyA/IG9wdGlvbnMudHJhbnNmb3JtX3ZhbHVlcyA6ICdfdmFsdWVffF92YWx1ZV98X3ZhbHVlXyc7XHJcbiAgICB0aGlzLnRyYW5zZm9ybV92YWx1ZXNfb3ZlcnJpZGVzID0gb3B0aW9ucyAmJiBvcHRpb25zLnRyYW5zZm9ybV92YWx1ZXNfb3ZlcnJpZGVzID8gb3B0aW9ucy50cmFuc2Zvcm1fdmFsdWVzX292ZXJyaWRlcyA6ICcwLT5kb3dufDEtPnVwJztcclxuICAgIHRoaXMudG9vbHRpcFRlbXBsYXRlID1cclxuICAgICAgb3B0aW9ucyAmJiBvcHRpb25zLnRvb2x0aXBUZW1wbGF0ZVxyXG4gICAgICAgID8gb3B0aW9ucy50b29sdGlwVGVtcGxhdGVcclxuICAgICAgICA6ICdTZXJpZXMgOiBfc2VyaWVzXyA8YnIvPlJvdyBOYW1lIDogX3Jvd19uYW1lXyA8YnIvPkNvbCBOYW1lIDogX2NvbF9uYW1lXyA8YnIvPlZhbHVlIDogX3ZhbHVlXyc7XHJcbiAgICB0aGlzLnZhbHVlTmFtZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy52YWx1ZU5hbWUgPyBvcHRpb25zLnZhbHVlTmFtZSA6ICdhdmcnO1xyXG4gIH1cclxufVxyXG5cclxuQm9vbVBhdHRlcm4ucHJvdG90eXBlLmludmVyc2VCR0NvbG9ycyA9IGZ1bmN0aW9uKCk6IHZvaWQge1xyXG4gIHRoaXMuYmdDb2xvcnMgPSB0aGlzLmJnQ29sb3JzXHJcbiAgICA/IHRoaXMuYmdDb2xvcnNcclxuICAgICAgICAuc3BsaXQoJ3wnKVxyXG4gICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAuam9pbignfCcpXHJcbiAgICA6ICcnO1xyXG59O1xyXG5cclxuQm9vbVBhdHRlcm4ucHJvdG90eXBlLmludmVyc2VUZXh0Q29sb3JzID0gZnVuY3Rpb24oKTogdm9pZCB7XHJcbiAgdGhpcy50ZXh0Q29sb3JzID0gdGhpcy50ZXh0Q29sb3JzXHJcbiAgICA/IHRoaXMudGV4dENvbG9yc1xyXG4gICAgICAgIC5zcGxpdCgnfCcpXHJcbiAgICAgICAgLnJldmVyc2UoKVxyXG4gICAgICAgIC5qb2luKCd8JylcclxuICAgIDogJyc7XHJcbn07XHJcblxyXG5Cb29tUGF0dGVybi5wcm90b3R5cGUuaW52ZXJzZVRyYW5zZm9ybVZhbHVlcyA9IGZ1bmN0aW9uKCk6IHZvaWQge1xyXG4gIHRoaXMudHJhbnNmb3JtX3ZhbHVlcyA9IHRoaXMudHJhbnNmb3JtX3ZhbHVlc1xyXG4gICAgPyB0aGlzLnRyYW5zZm9ybV92YWx1ZXNcclxuICAgICAgICAuc3BsaXQoJ3wnKVxyXG4gICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAuam9pbignfCcpXHJcbiAgICA6ICcnO1xyXG59O1xyXG5cclxuQm9vbVBhdHRlcm4ucHJvdG90eXBlLmFkZF90aW1lX2Jhc2VkX3RocmVzaG9sZHMgPSBmdW5jdGlvbigpOiB2b2lkIHtcclxuICBsZXQgbmV3X3RpbWVfYmFzZWRfdGhyZXNob2xkOiBJQm9vbVRpbWVCYXNlZFRocmVzaG9sZCA9IG5ldyBCb29tVGltZUJhc2VkVGhyZXNob2xkKCk7XHJcbiAgdGhpcy50aW1lX2Jhc2VkX3RocmVzaG9sZHMgPSB0aGlzLnRpbWVfYmFzZWRfdGhyZXNob2xkcyB8fCBbXTtcclxuICB0aGlzLnRpbWVfYmFzZWRfdGhyZXNob2xkcy5wdXNoKG5ld190aW1lX2Jhc2VkX3RocmVzaG9sZCk7XHJcbn07XHJcblxyXG5Cb29tUGF0dGVybi5wcm90b3R5cGUucmVtb3ZlX3RpbWVfYmFzZWRfdGhyZXNob2xkcyA9IGZ1bmN0aW9uKGluZGV4OiBOdW1iZXIpOiB2b2lkIHtcclxuICBpZiAodGhpcy50aW1lX2Jhc2VkX3RocmVzaG9sZHMubGVuZ3RoID4gMCkge1xyXG4gICAgdGhpcy50aW1lX2Jhc2VkX3RocmVzaG9sZHMuc3BsaWNlKE51bWJlcihpbmRleCksIDEpO1xyXG4gIH1cclxufTtcclxuXHJcbkJvb21QYXR0ZXJuLnByb3RvdHlwZS5zZXRVbml0Rm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0OiBhbnkpOiB2b2lkIHtcclxuICB0aGlzLmZvcm1hdCA9IGZvcm1hdCAmJiBmb3JtYXQudmFsdWUgPyBmb3JtYXQudmFsdWUgOiAnbm9uZSc7XHJcbn07XHJcblxyXG5leHBvcnQgeyBCb29tUGF0dGVybiB9O1xyXG4iXX0=