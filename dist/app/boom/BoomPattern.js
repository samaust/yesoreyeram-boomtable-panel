System.register(["./index"], function (exports_1, context_1) {
    "use strict";
    var index_1, BoomPattern;
    var __moduleName = context_1 && context_1.id;
    return {
        setters: [
            function (index_1_1) {
                index_1 = index_1_1;
            }
        ],
        execute: function () {
            BoomPattern = (function () {
                function BoomPattern(options) {
                    this.row_col_wrapper = '_';
                    if (options && options.row_col_wrapper) {
                        this.row_col_wrapper = options.row_col_wrapper;
                    }
                    this.bgColors = options && options.bgColors ? options.bgColors : 'green|orange|red';
                    this.bgColors_overrides = options && options.bgColors_overrides ? options.bgColors_overrides : '0->green|2->red|1->yellow';
                    this.textColors = options && options.textColors ? options.textColors : 'red|orange|green';
                    this.textColors_overrides = options && options.textColors_overrides ? options.textColors_overrides : '0->red|2->green|1->yellow';
                    this.clickable_cells_link = options && options.clickable_cells_link ? options.clickable_cells_link : '';
                    this.col_name = options && options.col_name ? options.col_name : this.row_col_wrapper + '1' + this.row_col_wrapper;
                    this.decimals = options && options.decimals ? options.decimals : 2;
                    this.delimiter = options && options.delimiter ? options.delimiter : '.';
                    this.displayTemplate = options && options.displayTemplate ? options.displayTemplate : '_value_';
                    this.defaultBGColor = options && options.defaultBGColor ? options.defaultBGColor : '';
                    this.defaultTextColor = options && options.defaultTextColor ? options.defaultTextColor : '';
                    this.enable_bgColor = false;
                    this.enable_bgColor_overrides = false;
                    this.enable_textColor = false;
                    this.enable_textColor_overrides = false;
                    this.enable_clickable_cells = false;
                    this.enable_time_based_thresholds = false;
                    this.enable_transform = false;
                    this.enable_transform_overrides = false;
                    this.filter = {
                        value_above: '',
                        value_below: '',
                    };
                    this.format = options && options.format ? options.format : 'none';
                    this.name = options && options.name ? options.name : 'New Pattern';
                    this.null_color = options && options.null_color ? options.null_color : 'darkred';
                    this.null_textcolor = options && options.null_Textcolor ? options.null_Textcolor : 'black';
                    this.null_value = options && options.null_value ? options.null_value : 'No data';
                    this.pattern = options && options.pattern ? options.pattern : '^server.*cpu$';
                    this.row_name = options && options.row_name ? options.row_name : this.row_col_wrapper + '0' + this.row_col_wrapper;
                    this.thresholds = options && options.thresholds ? options.thresholds : '70,90';
                    this.dynThresholds = options && options.dynThresholds ? options.dynThresholds : 'a,b';
                    this.separator = options && options.separator ? options.separator : ',';
                    this.time_based_thresholds = [];
                    this.transform_values = options && options.transform_values ? options.transform_values : '_value_|_value_|_value_';
                    this.transform_values_overrides = options && options.transform_values_overrides ? options.transform_values_overrides : '0->down|1->up';
                    this.tooltipTemplate =
                        options && options.tooltipTemplate
                            ? options.tooltipTemplate
                            : 'Series : _series_ <br/>Row Name : _row_name_ <br/>Col Name : _col_name_ <br/>Value : _value_';
                    this.valueName = options && options.valueName ? options.valueName : 'avg';
                }
                return BoomPattern;
            }());
            exports_1("BoomPattern", BoomPattern);
            BoomPattern.prototype.inverseBGColors = function () {
                this.bgColors = this.bgColors
                    ? this.bgColors
                        .split('|')
                        .reverse()
                        .join('|')
                    : '';
            };
            BoomPattern.prototype.inverseTextColors = function () {
                this.textColors = this.textColors
                    ? this.textColors
                        .split('|')
                        .reverse()
                        .join('|')
                    : '';
            };
            BoomPattern.prototype.inverseTransformValues = function () {
                this.transform_values = this.transform_values
                    ? this.transform_values
                        .split('|')
                        .reverse()
                        .join('|')
                    : '';
            };
            BoomPattern.prototype.add_time_based_thresholds = function () {
                var new_time_based_threshold = new index_1.BoomTimeBasedThreshold();
                this.time_based_thresholds = this.time_based_thresholds || [];
                this.time_based_thresholds.push(new_time_based_threshold);
            };
            BoomPattern.prototype.remove_time_based_thresholds = function (index) {
                if (this.time_based_thresholds.length > 0) {
                    this.time_based_thresholds.splice(Number(index), 1);
                }
            };
            BoomPattern.prototype.setUnitFormat = function (format) {
                this.format = format && format.value ? format.value : 'none';
            };
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQm9vbVBhdHRlcm4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvYXBwL2Jvb20vQm9vbVBhdHRlcm4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7WUFFQTtnQkE4Q0UscUJBQVksT0FBWTtvQkE3Q2hCLG9CQUFlLEdBQUcsR0FBRyxDQUFDO29CQThDNUIsSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLGVBQWUsRUFBRTt3QkFDdEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDO3FCQUNoRDtvQkFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDcEYsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsMkJBQTJCLENBQUM7b0JBQzNILElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDO29CQUMxRixJQUFJLENBQUMsb0JBQW9CLEdBQUcsT0FBTyxJQUFJLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQywyQkFBMkIsQ0FBQztvQkFDakksSUFBSSxDQUFDLG9CQUFvQixHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO29CQUN4RyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsUUFBUSxD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Z0JBQ3pFLElBQUksSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQ3pDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2lCQUNyRDtZQUNILENBQUMsQ0FBQztZQUVGLFdBQVcsQ0FBQyxTQUFTLENBQUMsYUFBYSxHQUFHLFVBQVMsTUFBVztnQkFDeEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQy9ELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElCb29tUGF0dGVybiwgSUJvb21UaW1lQmFzZWRUaHJlc2hvbGQsIEJvb21UaW1lQmFzZWRUaHJlc2hvbGQgfSBmcm9tICcuL2luZGV4JztcclxuXHJcbmNsYXNzIEJvb21QYXR0ZXJuIGltcGxlbWVudHMgSUJvb21QYXR0ZXJuIHtcclxuICBwcml2YXRlIHJvd19jb2xfd3JhcHBlciA9ICdfJztcclxuICBwdWJsaWMgYmdDb2xvcnM6IHN0cmluZztcclxuICBwdWJsaWMgYmdDb2xvcnNfb3ZlcnJpZGVzOiBzdHJpbmc7XHJcbiAgcHVibGljIGNsaWNrYWJsZV9jZWxsc19saW5rOiBzdHJpbmc7XHJcbiAgcHVibGljIGNvbF9uYW1lOiBzdHJpbmc7XHJcbiAgcHVibGljIGRpc3BsYXlUZW1wbGF0ZTogc3RyaW5nO1xyXG4gIHB1YmxpYyBkZWZhdWx0QkdDb2xvcjogc3RyaW5nO1xyXG4gIHB1YmxpYyBkZWZhdWx0VGV4dENvbG9yOiBzdHJpbmc7XHJcbiAgcHVibGljIGRlY2ltYWxzOiBOdW1iZXI7XHJcbiAgcHVibGljIGRlbGltaXRlcjogc3RyaW5nO1xyXG4gIHB1YmxpYyBlbmFibGVfYmdDb2xvcjogQm9vbGVhbjtcclxuICBwdWJsaWMgZW5hYmxlX2JnQ29sb3Jfb3ZlcnJpZGVzOiBCb29sZWFuO1xyXG4gIHB1YmxpYyBlbmFibGVfY2xpY2thYmxlX2NlbGxzOiBCb29sZWFuO1xyXG4gIHB1YmxpYyBlbmFibGVfdGV4dENvbG9yOiBCb29sZWFuO1xyXG4gIHB1YmxpYyBlbmFibGVfdGV4dENvbG9yX292ZXJyaWRlczogQm9vbGVhbjtcclxuICBwdWJsaWMgZW5hYmxlX3RpbWVfYmFzZWRfdGhyZXNob2xkczogQm9vbGVhbjtcclxuICBwdWJsaWMgZW5hYmxlX3RyYW5zZm9ybTogQm9vbGVhbjtcclxuICBwdWJsaWMgZW5hYmxlX3RyYW5zZm9ybV9vdmVycmlkZXM6IEJvb2xlYW47XHJcbiAgcHVibGljIGZpbHRlcjoge1xyXG4gICAgdmFsdWVfYWJvdmU6IHN0cmluZztcclxuICAgIHZhbHVlX2JlbG93OiBzdHJpbmc7XHJcbiAgfTtcclxuICBwdWJsaWMgZm9ybWF0OiBzdHJpbmc7XHJcbiAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICBwdWJsaWMgbnVsbF9jb2xvcjogc3RyaW5nO1xyXG4gIHB1YmxpYyBudWxsX3ZhbHVlOiBzdHJpbmc7XHJcbiAgcHVibGljIG51bGxfdGV4dGNvbG9yOiBzdHJpbmc7XHJcbiAgcHVibGljIHBhdHRlcm46IHN0cmluZztcclxuICBwdWJsaWMgcm93X25hbWU6IHN0cmluZztcclxuICBwdWJsaWMgdGV4dENvbG9yczogc3RyaW5nO1xyXG4gIHB1YmxpYyB0ZXh0Q29sb3JzX292ZXJyaWRlczogc3RyaW5nO1xyXG4gIHB1YmxpYyB0aHJlc2hvbGRzOiBzdHJpbmc7XHJcbiAgcHVibGljIGR5blRocmVzaG9sZHM6IHN0cmluZztcclxuICBwdWJsaWMgc2VwYXJhdG9yOiBzdHJpbmc7XHJcbiAgcHVibGljIHRpbWVfYmFzZWRfdGhyZXNob2xkczogSUJvb21UaW1lQmFzZWRUaHJlc2hvbGRbXTtcclxuICBwdWJsaWMgdHJhbnNmb3JtX3ZhbHVlczogc3RyaW5nO1xyXG4gIHB1YmxpYyB0cmFuc2Zvcm1fdmFsdWVzX292ZXJyaWRlczogc3RyaW5nO1xyXG4gIHB1YmxpYyB0b29sdGlwVGVtcGxhdGU6IHN0cmluZztcclxuICBwdWJsaWMgdmFsdWVOYW1lOiBzdHJpbmc7XHJcbiAgcHVibGljIGludmVyc2VCR0NvbG9ycztcclxuICBwdWJsaWMgaW52ZXJzZVRleHRDb2xvcnM7XHJcbiAgcHVibGljIGludmVyc2VUcmFuc2Zvcm1WYWx1ZXM7XHJcbiAgcHVibGljIGFkZF90aW1lX2Jhc2VkX3RocmVzaG9sZHM7XHJcbiAgcHVibGljIHJlbW92ZV90aW1lX2Jhc2VkX3RocmVzaG9sZHM7XHJcbiAgcHVibGljIHNldFVuaXRGb3JtYXQ7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9uczogYW55KSB7XHJcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJvd19jb2xfd3JhcHBlcikge1xyXG4gICAgICB0aGlzLnJvd19jb2xfd3JhcHBlciA9IG9wdGlvbnMucm93X2NvbF93cmFwcGVyO1xyXG4gICAgfVxyXG4gICAgdGhpcy5iZ0NvbG9ycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5iZ0NvbG9ycyA/IG9wdGlvbnMuYmdDb2xvcnMgOiAnZ3JlZW58b3JhbmdlfHJlZCc7XHJcbiAgICB0aGlzLmJnQ29sb3JzX292ZXJyaWRlcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5iZ0NvbG9yc19vdmVycmlkZXMgPyBvcHRpb25zLmJnQ29sb3JzX292ZXJyaWRlcyA6ICcwLT5ncmVlbnwyLT5yZWR8MS0+eWVsbG93JztcclxuICAgIHRoaXMudGV4dENvbG9ycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0Q29sb3JzID8gb3B0aW9ucy50ZXh0Q29sb3JzIDogJ3JlZHxvcmFuZ2V8Z3JlZW4nO1xyXG4gICAgdGhpcy50ZXh0Q29sb3JzX292ZXJyaWRlcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0Q29sb3JzX292ZXJyaWRlcyA/IG9wdGlvbnMudGV4dENvbG9yc19vdmVycmlkZXMgOiAnMC0+cmVkfDItPmdyZWVufDEtPnllbGxvdyc7XHJcbiAgICB0aGlzLmNsaWNrYWJsZV9jZWxsc19saW5rID0gb3B0aW9ucyAmJiBvcHRpb25zLmNsaWNrYWJsZV9jZWxsc19saW5rID8gb3B0aW9ucy5jbGlja2FibGVfY2VsbHNfbGluayA6ICcnO1xyXG4gICAgdGhpcy5jb2xfbmFtZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jb2xfbmFtZSA/IG9wdGlvbnMuY29sX25hbWUgOiB0aGlzLnJvd19jb2xfd3JhcHBlciArICcxJyArIHRoaXMucm93X2NvbF93cmFwcGVyO1xyXG4gICAgdGhpcy5kZWNpbWFscyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kZWNpbWFscyA/IG9wdGlvbnMuZGVjaW1hbHMgOiAyO1xyXG4gICAgdGhpcy5kZWxpbWl0ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVsaW1pdGVyID8gb3B0aW9ucy5kZWxpbWl0ZXIgOiAnLic7XHJcbiAgICB0aGlzLmRpc3BsYXlUZW1wbGF0ZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kaXNwbGF5VGVtcGxhdGUgPyBvcHRpb25zLmRpc3BsYXlUZW1wbGF0ZSA6ICdfdmFsdWVfJztcclxuICAgIHRoaXMuZGVmYXVsdEJHQ29sb3IgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVmYXVsdEJHQ29sb3IgPyBvcHRpb25zLmRlZmF1bHRCR0NvbG9yIDogJyc7XHJcbiAgICB0aGlzLmRlZmF1bHRUZXh0Q29sb3IgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVmYXVsdFRleHRDb2xvciA/IG9wdGlvbnMuZGVmYXVsdFRleHRDb2xvciA6ICcnO1xyXG4gICAgdGhpcy5lbmFibGVfYmdDb2xvciA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVfYmdDb2xvcl9vdmVycmlkZXMgPSBmYWxzZTtcclxuICAgIHRoaXMuZW5hYmxlX3RleHRDb2xvciA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVfdGV4dENvbG9yX292ZXJyaWRlcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVfY2xpY2thYmxlX2NlbGxzID0gZmFsc2U7XHJcbiAgICB0aGlzLmVuYWJsZV90aW1lX2Jhc2VkX3RocmVzaG9sZHMgPSBmYWxzZTtcclxuICAgIHRoaXMuZW5hYmxlX3RyYW5zZm9ybSA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVfdHJhbnNmb3JtX292ZXJyaWRlcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5maWx0ZXIgPSB7XHJcbiAgICAgIHZhbHVlX2Fib3ZlOiAnJyxcclxuICAgICAgdmFsdWVfYmVsb3c6ICcnLFxyXG4gICAgfTtcclxuICAgIHRoaXMuZm9ybWF0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmZvcm1hdCA/IG9wdGlvbnMuZm9ybWF0IDogJ25vbmUnO1xyXG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucyAmJiBvcHRpb25zLm5hbWUgPyBvcHRpb25zLm5hbWUgOiAnTmV3IFBhdHRlcm4nO1xyXG4gICAgdGhpcy5udWxsX2NvbG9yID0gb3B0aW9ucyAmJiBvcHRpb25zLm51bGxfY29sb3IgPyBvcHRpb25zLm51bGxfY29sb3IgOiAnZGFya3JlZCc7XHJcbiAgICB0aGlzLm51bGxfdGV4dGNvbG9yID0gb3B0aW9ucyAmJiBvcHRpb25zLm51bGxfVGV4dGNvbG9yID8gb3B0aW9ucy5udWxsX1RleHRjb2xvciA6ICdibGFjayc7XHJcbiAgICB0aGlzLm51bGxfdmFsdWUgPSBvcHRpb25zICYmIG9wdGlvbnMubnVsbF92YWx1ZSA/IG9wdGlvbnMubnVsbF92YWx1ZSA6ICdObyBkYXRhJztcclxuICAgIHRoaXMucGF0dGVybiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXR0ZXJuID8gb3B0aW9ucy5wYXR0ZXJuIDogJ15zZXJ2ZXIuKmNwdSQnO1xyXG4gICAgdGhpcy5yb3dfbmFtZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5yb3dfbmFtZSA/IG9wdGlvbnMucm93X25hbWUgOiB0aGlzLnJvd19jb2xfd3JhcHBlciArICcwJyArIHRoaXMucm93X2NvbF93cmFwcGVyO1xyXG4gICAgdGhpcy50aHJlc2hvbGRzID0gb3B0aW9ucyAmJiBvcHRpb25zLnRocmVzaG9sZHMgPyBvcHRpb25zLnRocmVzaG9sZHMgOiAnNzAsOTAnO1xyXG4gICAgdGhpcy5keW5UaHJlc2hvbGRzID0gb3B0aW9ucyAmJiBvcHRpb25zLmR5blRocmVzaG9sZHMgPyBvcHRpb25zLmR5blRocmVzaG9sZHMgOiAnYSxiJztcclxuICAgIHRoaXMuc2VwYXJhdG9yID0gb3B0aW9ucyAmJiBvcHRpb25zLnNlcGFyYXRvciA/IG9wdGlvbnMuc2VwYXJhdG9yIDogJywnO1xyXG4gICAgdGhpcy50aW1lX2Jhc2VkX3RocmVzaG9sZHMgPSBbXTtcclxuICAgIHRoaXMudHJhbnNmb3JtX3ZhbHVlcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy50cmFuc2Zvcm1fdmFsdWVzID8gb3B0aW9ucy50cmFuc2Zvcm1fdmFsdWVzIDogJ192YWx1ZV98X3ZhbHVlX3xfdmFsdWVfJztcclxuICAgIHRoaXMudHJhbnNmb3JtX3ZhbHVlc19vdmVycmlkZXMgPSBvcHRpb25zICYmIG9wdGlvbnMudHJhbnNmb3JtX3ZhbHVlc19vdmVycmlkZXMgPyBvcHRpb25zLnRyYW5zZm9ybV92YWx1ZXNfb3ZlcnJpZGVzIDogJzAtPmRvd258MS0+dXAnO1xyXG4gICAgdGhpcy50b29sdGlwVGVtcGxhdGUgPVxyXG4gICAgICBvcHRpb25zICYmIG9wdGlvbnMudG9vbHRpcFRlbXBsYXRlXHJcbiAgICAgICAgPyBvcHRpb25zLnRvb2x0aXBUZW1wbGF0ZVxyXG4gICAgICAgIDogJ1NlcmllcyA6IF9zZXJpZXNfIDxici8+Um93IE5hbWUgOiBfcm93X25hbWVfIDxici8+Q29sIE5hbWUgOiBfY29sX25hbWVfIDxici8+VmFsdWUgOiBfdmFsdWVfJztcclxuICAgIHRoaXMudmFsdWVOYW1lID0gb3B0aW9ucyAmJiBvcHRpb25zLnZhbHVlTmFtZSA/IG9wdGlvbnMudmFsdWVOYW1lIDogJ2F2Zyc7XHJcbiAgfVxyXG59XHJcblxyXG5Cb29tUGF0dGVybi5wcm90b3R5cGUuaW52ZXJzZUJHQ29sb3JzID0gZnVuY3Rpb24oKTogdm9pZCB7XHJcbiAgdGhpcy5iZ0NvbG9ycyA9IHRoaXMuYmdDb2xvcnNcclxuICAgID8gdGhpcy5iZ0NvbG9yc1xyXG4gICAgICAgIC5zcGxpdCgnfCcpXHJcbiAgICAgICAgLnJldmVyc2UoKVxyXG4gICAgICAgIC5qb2luKCd8JylcclxuICAgIDogJyc7XHJcbn07XHJcblxyXG5Cb29tUGF0dGVybi5wcm90b3R5cGUuaW52ZXJzZVRleHRDb2xvcnMgPSBmdW5jdGlvbigpOiB2b2lkIHtcclxuICB0aGlzLnRleHRDb2xvcnMgPSB0aGlzLnRleHRDb2xvcnNcclxuICAgID8gdGhpcy50ZXh0Q29sb3JzXHJcbiAgICAgICAgLnNwbGl0KCd8JylcclxuICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgLmpvaW4oJ3wnKVxyXG4gICAgOiAnJztcclxufTtcclxuXHJcbkJvb21QYXR0ZXJuLnByb3RvdHlwZS5pbnZlcnNlVHJhbnNmb3JtVmFsdWVzID0gZnVuY3Rpb24oKTogdm9pZCB7XHJcbiAgdGhpcy50cmFuc2Zvcm1fdmFsdWVzID0gdGhpcy50cmFuc2Zvcm1fdmFsdWVzXHJcbiAgICA/IHRoaXMudHJhbnNmb3JtX3ZhbHVlc1xyXG4gICAgICAgIC5zcGxpdCgnfCcpXHJcbiAgICAgICAgLnJldmVyc2UoKVxyXG4gICAgICAgIC5qb2luKCd8JylcclxuICAgIDogJyc7XHJcbn07XHJcblxyXG5Cb29tUGF0dGVybi5wcm90b3R5cGUuYWRkX3RpbWVfYmFzZWRfdGhyZXNob2xkcyA9IGZ1bmN0aW9uKCk6IHZvaWQge1xyXG4gIGxldCBuZXdfdGltZV9iYXNlZF90aHJlc2hvbGQ6IElCb29tVGltZUJhc2VkVGhyZXNob2xkID0gbmV3IEJvb21UaW1lQmFzZWRUaHJlc2hvbGQoKTtcclxuICB0aGlzLnRpbWVfYmFzZWRfdGhyZXNob2xkcyA9IHRoaXMudGltZV9iYXNlZF90aHJlc2hvbGRzIHx8IFtdO1xyXG4gIHRoaXMudGltZV9iYXNlZF90aHJlc2hvbGRzLnB1c2gobmV3X3RpbWVfYmFzZWRfdGhyZXNob2xkKTtcclxufTtcclxuXHJcbkJvb21QYXR0ZXJuLnByb3RvdHlwZS5yZW1vdmVfdGltZV9iYXNlZF90aHJlc2hvbGRzID0gZnVuY3Rpb24oaW5kZXg6IE51bWJlcik6IHZvaWQge1xyXG4gIGlmICh0aGlzLnRpbWVfYmFzZWRfdGhyZXNob2xkcy5sZW5ndGggPiAwKSB7XHJcbiAgICB0aGlzLnRpbWVfYmFzZWRfdGhyZXNob2xkcy5zcGxpY2UoTnVtYmVyKGluZGV4KSwgMSk7XHJcbiAgfVxyXG59O1xyXG5cclxuQm9vbVBhdHRlcm4ucHJvdG90eXBlLnNldFVuaXRGb3JtYXQgPSBmdW5jdGlvbihmb3JtYXQ6IGFueSk6IHZvaWQge1xyXG4gIHRoaXMuZm9ybWF0ID0gZm9ybWF0ICYmIGZvcm1hdC52YWx1ZSA/IGZvcm1hdC52YWx1ZSA6ICdub25lJztcclxufTtcclxuXHJcbmV4cG9ydCB7IEJvb21QYXR0ZXJuIH07XHJcbiJdfQ==